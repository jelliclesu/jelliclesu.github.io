---
title: "[DB] 트랜잭션 격리 수준 (Transaction Isolation Level)"
date: 2025-11-03 18:15:40 +0900
categories: [매일메일, Database]
tags: [TIL, Database]
---

# 트랜잭션 격리 수준

## 정의

> 동시에 여러 트랜잭션이 실행될 때 서로의 데이터 변경이 어느 정도까지 보이는가를 결정하는 기준

- 낮은 격리 수준 → 동시성 ⬆️, 일관성 ⬇️
- 높은 격리 수준 → 일관성 ⬆️, 성능 ⬇️

⇒ 데이터 정합성과 성능은 **반비례 관계**

---

## 필요성

- DB는 동시에 여러 사용자가 같은 데이터를 읽고 수정할 수 있어야 함 → 동시성 문제 발생 가능
- 트랜잭션 격리 수준이 이런 문제를 조절하여, “**얼마나 엄격하게 트랜잭션을 분리할지”**를 정하는 기준

---

## 종류

### 1. READ UNCOMMITTED (읽기 미완료 허용)

> 가장 낮은 격리 수준
다른 트랜잭션이 커밋하지 않은 데이터도 읽을 수 있음


- 성능은 빠르지만, 데이터 신뢰성 최악

**예시**

```
T1: salary = 100 → 200 변경 후 아직 커밋 X

T2: salary = 200 읽음

T1: 롤백으로 salary = 100
```

⇒ T2는 잘못된 값을 읽고 사용한 게 됨 = **Dirty Read**

**발생 가능한 문제**

- Dirty Read
- Non-Repeatable Read
- Phantom Read

### 2. READ COMMITTED (읽기 완료 허용)

> 커밋된 데이터만 읽을 수 있음
트랜잭션이 진행 중일 때, 다른 트랜잭션의 커밋된 변경사항은 바로 조회 가능


- 대부분 DB의 기본 격리 수준 (Oracle, PostgreSQL)
- 성능과 일관성의 균형점

**예시**

```
T1: balance = 1000 읽음

T2: balance = 1000 → 2000 변경 후 커밋

T1: 다시 balance 읽으면 값 2000
```

**발생 가능한 문제**

- Non-Repeatable Read
- Phantom Read

### 3. REPEATABLE READ (반복 가능한 읽기)

> 한 트랜잭션 내에서는 동일한 쿼리에 항상 동일한 결과 반환
다른 트랜잭션이 커밋하더라도, 현재 트랜잭션이 시작 시점의 스냅샷 기준으로 데이터 조회


- MySQL(InnoDB)의 기본 격리 수준

**예시**

```
T1: price = 100 읽음

T2: price = 100 → 200 변경 후 커밋

T1: 다시 price 조회 시, 값 100
```

**발생 가능한 문제**

- Phantom Read

### 4. SERIALIZABLE (직렬화)

> 가장 높은 수준 격리
한 트랜잭션이 읽고 있는 테이블을 다른 트랜잭션이 접근하면 잠금 발생


- 모든 트랜잭션을 순차적으로 실행하는 것처럼 처리
- 발생 가능한 문제는 없지만, 동시성 처리 성능 급격히 저하됨

**예시**

```
T1: 특정 조건의 SELECT 실행 중
T2: T1 이 조회 중인 데이터를 삽입/수정/삭제할 수 없음
```

---

## 요약

| 구분 | Dirty Read | Non-Repeatable Read | Phantom Read |
| --- | --- | --- | --- |
| **READ UNCOMMITTED** | ✅ | ✅ | ✅ |
| **READ COMMITTED** | ❌ | ✅ | ✅ |
| **REPEATABLE READ** | ❌ | ❌ | ✅ *(MySQL에서는 ❌)* |
| **SERIALIZABLE** | ❌ | ❌ | ❌ |

---

참고: [maeil-mail 매일메일 - 트랜잭션 격리수준은 무엇인가요?](https://www.maeil-mail.kr/question/61)
