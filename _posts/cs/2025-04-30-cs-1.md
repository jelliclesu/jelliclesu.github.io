---
title: "[CS] 네트워크의 기초: 네트워크 성능 분석 명령어"
date: 2025-04-30 11:30:44 +0900
categories: [CS, 네트워크의 기초]
tags: [TIL, CS]
---
# CS
## 📚 2.1 네트워크의 기초

### 2.1.4 네트워크 성능 분석 명령어

#### 📘 정의
- **네트워크 상태를 확인하고, 성능 문제나 장애 원인을 진단하기 위해 사용하는 명령어**
- 네트워크 연결, 응답 시간, 라우팅 경로, DNS 정보 등을 분석 가능
- 운영체제 기본 명령어로 대부분 내장되어 있음

---

#### 📌 예시 상황
1. 서버 접속이 안 될 때, `ping` 으로 연결 여부 확인
2. 외부 API 응답이 느릴 때, `traceroute` 로 어느 구간에서 지연 발생하는지 확인
3. 도메인이 작동하지 않을 때, `nslookup` 으로 DNS 응답 확인
4. 시스템 포트 점유를 확인할 때, `netstat` 으로 열린 포트 및 연결 확인

---

#### 🎯 사용 이유 / 장점

| 명령어                | 주요 장점                         |
|--------------------|-------------------------------|
| `ping`               | 네트워크 연결 확인, 지연 시간(RTT) 측정     |
| `netstat`            | 열린 포트, 현재 연결, LISTENING 여부 확인 |
| `traceroute`         | 네트워크 경로 추적, 병목 구간 파악          |
| `nslookup`           | DNS 응답 확인, 네임서버 확인            |
| `ipconfig`/ `ifconfig` | IP 주소, 게이트웨이, DNS 정보 등 확인     |


---

#### ⚠️ 단점
1. **보안 제한**: 일부 서버에서 ICMP(ping 등) 차단됨
2. **복합 장애 분석은 어려움**: 단일 명령어로는 전체 네트워크 상태를 판단하기 어려움
3. **관리자 권한 필요**: netstat, traceroute 등은 관리자 권한 요구 가능

---

#### 🏢 실무 사용 여부
✔️ 서버 운영, 배포, 모니터링, 장애 대응 등에 사용되는 필수 도구들

- 배포 전 점검: `ping`, `curl`, `nslookup` 으로 연결 확인
- 장애 분석: `traceroute`, `netstat` 로 원인 추적
- DNS 설정 점검: `nslookup`, `dig` 활용
- VPN, Proxy 문제 확인: `ipconfig`, `route` 로 IP 설정 정보 확인

---

#### 💻 명령어 예시

[`ping`]

```bash
ping www.google.com
```
- IP 응답 확인
- RTT(Round Trip Time): 50 ~ 100 ms 이상이면 지연 의심

```plaintext
PING www.google.com (142.250.196.36): 56 data bytes
64 bytes from 142.250.196.36: icmp_seq=0 ttl=118 time=18.2 ms
64 bytes from 142.250.196.36: icmp_seq=1 ttl=118 time=18.4 ms
64 bytes from 142.250.196.36: icmp_seq=2 ttl=118 time=18.3 ms
```
- `time`: 왕복 지연 시간
- `ttl`: 패킷이 거칠 수 있는 최대 경로 수
- 응답 없음: 서버 다운, 방화벽, ICMP 차단 가능성

--

[`traceroute` (Linux/macOS)]

```bash
traceroute www.naver.com
```
- 서버까지 거치는 라우터(노드) 경로 추적
- 중간 구간 지연, 병목 탐지에 사용

```plaintext
 1  192.168.0.1     1.234 ms
 2  10.78.123.1     6.456 ms
 3  211.232.112.1   9.870 ms
 4  125.209.XXX.XXX 14.320 ms
 5  * * *
 6  223.130.195.200 (naver.com) 18.567 ms

```
- 각 줄 = 경우하는 라우터: 지연 시간 확인 가능
- `* * *` 출력: 특정 구간에서 응답 없음 (차단/오류 가능성)
- 지연 시간 급증: 병목 위치 가능성 있음 (ex: 3 -> 4 에서 갑자기 100ms 이상 증가)

-- 

[`netstat`]

```bash
netstat -an | grep 8080
```
- 현재 열려 있는 포트, LISTEN/ESTABLISHED 상태 확인
- `-an`: 숫자 형태로 출력, 모든 연결 표시

```plaintext
tcp6       0      0 :::8080                :::*                    LISTEN
```
- `LISTEN`: 해당 포트가 열려 있고, 요청 대기 중
- `ESTABLISHED`: 클라이언트와 연결 완료
- `CLOSE_WAIT`, `TIME_WAIT`: 연결 종료 대기 상태
- 포트 없음: 서버 미실행 or 포트 충돌

--

[`nslookup`]

```bash
nslookup www.naver.com
```
- 도메인 ➔ IP 주소 확인
- DNS 응답 정상 여부 확인

```plaintext
Server:  192.168.0.1
Address: 192.168.0.1#53

Non-authoritative answer:
Name:    www.google.com
Address: 142.250.196.36
```
- `Server`: 사용하는 DNS 서버 주소도 확인 가능 (내부/외부)
- `Address`: 도메인이 IP 로 변환되는지 확인
- 실패 시: DNS 설정 오류, 네트워크 장애 등 가능성

-- 

[`ipconfig` / `ifconfig`]

```bash
ipconfig
```
- 로컬 네트워크 정보 확인 (IP, DNS, 게이트웨이 등)

```plaintext
Ethernet adapter Local Area Connection:
IPv4 Address. . . . . . : 192.168.0.101
Subnet Mask . . . . . . : 255.255.255.0
Default Gateway . . . . : 192.168.0.1
```
- IP 주소: 현재 로컬 네트워크 상 IP 주소
- 게이트웨이: 인터넷으로 나가는 라우터 주소
- 주소 없음: DHCP 미적용, 연결 불량 가능성

---

#### 🎤 면접 예상 질문
1. ping 과 traceroute 의 차이는?
   - ping 은 대상 서버가 응답 가능한지와 지연 시간을 확인하는 데 사용하고,
   - traceroute 는 서버까지의 경유 노드 경로와 지연 위치를 확인하는 데 사용합니다.
2. 실무에서 netstat 은 언제 사용하나요?
   - 특정 포트가 열려 있는지, 해당 포트를 사용하는 프로세스가 무엇인지 확인할 때 사용합니다.
   - 예를 들어, Spring Boot 서버가 8080 포트를 제대로 LISTEN 중인지 점검할 수 있습니다.
3. 도메인이 작동하지 않을 때 어떤 명령어를 쓰나요?
   - nslookup 또는 dig 명령어를 사용하여 해당 도메인이 올바르게 IP 로 매핑되는지 확인합니다.
   - DNS 설정 문제인 경우 바로 확인할 수 있습니다.















