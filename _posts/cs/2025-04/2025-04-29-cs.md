---
title: "[CS] 네트워크의 기초: 처리량과 지연 시간"
date: 2025-04-29 10:50:34 +0900
categories: [CS, 네트워크, 네트워크의 기초]
tags: [TIL, CS]
---
# CS 2장 네트워크
## 📚 2.1 네트워크의 기초

### 2.1.1 처리량과 지연 시간 

#### 📘 정의
- **처리량** (**Throughput**)
  - 일정 시간 동안 전달할 수 있는 데이터의 양
  - 초당 전송할 수 있는 데이터 크기 (ex: Mbps, Gbps) ➔ 1초에 몇 메가비트를 보낼 수 있나?
  - 네트워크 "**속도**"의 양적인 측면
- **지연 시간** (**Latency**)
  - 데이터가 출발지에서 목적지까지 도착하는 데 걸리는 시간 ➔ 요청을 보내고 응답이 돌아오기까지 걸리는 시간
  - 보통 ms(밀리초) 단위로 측정
  - 네트워크 "**반응성**"
---

#### 📌 예시 상황
- 처리량
  - 1Gbps 인터넷 ➔ 초당 1기가비트 데이터 전송 가능
- 지연 시간
  - HTTP 요청 보내고 응답 받는데 100ms 소요

---

#### 🎯 사용 이유 / 장점
- 처리량
  - **높을수록 좋음** ➔ 더 많은 데이터를 빠르게 처리할 수 있음
    - 대용량 파일 다운로드
    - 스트리밍 품질 향상
- 지연 시간
  - **짧을수록 좋음** ➔ 빠른 응답으로 사용자 경험이 좋아짐
    - 사용자 경험(UX/UI) 향상
    - 실시간 서비스(게임, 화상 회의) 필수

---

#### ⚠️ 단점
- 처리량이 높더라도 지연이 길면 "느리게" 느껴질 수 있음
- 지연 시간이 짧더라도 처리량이 낮으면 대용량 작업에 부적합

➡︎ 둘은 별개의 개념이지만, 둘 다 네트워크 성능에 중요한 요소!

---

#### 🏢 실무 사용 여부
- 백엔드 서버 개발
  - API 응답 속도 = 지연 시간
  - 대용량 데이터 전송 = 처리량
- 클라우드 아키텍처 설계
  - (처리량 / 지연 시간) 기준으로 서버 지역 선택
- 동영상 스트리밍, 게임 서버
  - 초저지연(low latency) 설계가 핵심 (ex: WebRTC, UDP 기반 통신)

---

#### 💻 Java/Spring 예시
- WebFlux, Netty 기반 서버
  - 고처리량 + 낮은 지연 시간 목표 (논블로킹 I/O)
  - ✚ **논블로킹**이란? 다른 작업이 끝날 때까지 기다리지 않고 다음 작업을 수행할 수 있는 것
- API 최적화 (Timeout, Connection Pool 튜닝)
  - 처리량 증가, 지연 시간 감소

[WebClient]

```java
WebClient.builder()
    .baseUrl("https://example.com")
    .build()
    .get()
    .retrieve()
    .bodyToMono(String.class);
```
- 비동기 처리로 지연 시간 감소 + 처리량 증가 효과

[Timeout 튜닝]

```java
WebClient.builder()
    .clientConnector(new ReactorClientHttpConnector(
        HttpClient.create()
            .responseTimeout(Duration.ofSeconds(5)) // timeout 튜닝
    ))
    .build();
```
- 서버 응답이 너무 오래 걸리면 자동으로 끊기게 설정 (불필요한 리소스 소모 방지)

[Connection Pool 튜닝]

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: user
    password: password
    driver-class-name: com.mysql.cj.jdbc.Driver

    hikari:
      maximum-pool-size: 30    # 커넥션 최대 30개 -> 많은수록 동시 처리량 증가
      minimum-idle: 10         # 최소 유휴 커넥션 10개 유지
      idle-timeout: 30000      # 커넥션 유휴 대기 시간 (30초)
      connection-timeout: 5000 # 커넥션 대기 최대 시간 (5초)
```
- DB나 API 호출 시 연결을 매번 새로 만들지 않고, 미리 연결을 여러 개 유지해서 성능 향상

---

#### 🎤 면접 예상 질문
1. 처리량과 지연 시간의 차이는?
   - 처리량은 단위 시간당 전송할 수 있는 데이터의 양이고,
   - 지연 시간은 요청하고 응답 받을 때까지 걸리는 시간입니다.
   - 둘은 별개의 개념이지만, 둘 다 네트워크 성능에 중요합니다.
2. 실무에서는 어떤 상황에서 각각 중요할까요?
   - 대용량 파일 전송, 스트리밍 서비스에서는 처리량이 중요하고,
   - 게임, 화상회의, 실시간 채팅 같은 서비스에서는 지연 시간이 중요합니다.
3. 처리량이 높아도 서비스가 느릴 수 있나요?
   - 네, 처리량이 높더라도 지연 시간이 길면 사용자는 응답이 느리다고 느낍니다.
