---
title: "[CS] 네트워크의 기초: 네트워크 토폴로지와 병목 현상"
date: 2025-04-29 11:53:32 +0900
categories: [CS, 네트워크의 기초]
tags: [TIL, CS]
---
# CS
## 📚 2.1 네트워크의 기초

### 2.1.2 네트워크 토폴로지와 병목 현상

#### 📘 정의
- 네트워크 토폴로지 (Network Topology)
  - 네트워크를 구성하는 **노드(컴퓨터, 서버, 장비)와 연결선(링크)의 배치 구조**
  - "**네트워크 구조도**", 노드 간 연결 방법에 따라 유형이 나뉨
- 병목 현상 (Bottleneck)
  - 전체 네트워크 성능이 **특정 구간(노드/링크)의 한계로 인해 저하**되는 현상
  - 전체 흐름은 빠른데, **특정 지점이 느려서** 전체가 느려지는 상황
  - CPU, 메모리, 네트워크 장비, 링크 모두 병목 포인트가 될 수 있음

---

#### 📌 예시 상황
- 네트워크 토폴로지
  ![img.png](/assets/cs/2025-04-29-cs-1.png)
  - **스타형**: 모든 노드가 중앙 허브(스위치, 라우터 등) 에 직접 연결되는 구조
    - 장점 - 설치/이해가 쉽고, 개별 노드 장애가 전체에 영향 없음
    - 단점 - 중앙 허브 고장 시 전체 네트워크 다운
  - **버스형**: 하나의 메인 케이블(버스)에 여러 노드가 "줄줄이" 연결되는 구조
    - 장점 - 설치 비용 저렴
    - 단점 - 선 하나 끊기면 전체 통신 장애, 트래픽 충돌 가능성
  - **링형**: 노드들이 원형으로 연결되어 데이터가 한 방향 또는 양방향으로 흐르는 구조
    - 장점 - 충돌 최소화, 순차적 데이터 전달
    - 단점 - 노드 하나 고장시 전체 네트워크 마비 가능
  - **메시형**: 모든 노드가 서로 직접 연결되어 통신하는 구조
    - 장점 - 장애 복구성이 좋고, 다중 경로가 존재함
    - 단점 - 설치/유지 비용 매우 높음
  - **트리형**: 버스형과 스타형의 조합
    - 장점 - 데이터 흐름이 빠름, 개별 노드 문제 파악 쉬움
    - 단점 - 중앙 연결이 중단되면 전체 네트워크 다운

- 병목 현상
  - DB 서버 하나가 과부하 ➔ 전체 서비스 응답 지연

---

#### 🎯 사용 이유 / 장점
- 네트워크 토폴로지
  - **구조 최적화**: 트래픽 흐름을 예측하고 효율적으로 관리
  - **장애 대응성 확보**: 장애가 발생했을 때 어느 노드가 영향을 받는지 알 수 있음
  - **확장성 고려 가능**: 노드를 추가할 때 최소 비용/영향으로 설계 가능

---

#### ⚠️ 단점
- 네트워크 토폴로지
  - **설계 복잡성**: 복잡해질수록 설계와 유지보수 난이도가 높아짐
  - **병목 발생 가능성**: 잘목된 구조 설계 시 특정 지점에 부하 집중
  - **비용 문제**: 고급 토폴로지(풀 메시, 이중화 등)는 비용 상승

---

#### 🏢 실무 사용 여부
- 항상 네트워크 토폴로지를 고려하여 시스템을 설계
  - **클라우드 인프라**: 리전-가용존-서브넷 구성 자체가 토폴로지
  - **대규모 서비스 아키텍처**: DB 샤딩, API 게이트웨이, 로드밸런서 구성
  - **장애 복구 계획 (DR)**: 토폴로지 기반으로 장애 복구 시나리오 수립

➔ MSA 에서 서비스 간 네트워크 연결 설계가 매우 중요!

---

#### 💻 Java/Spring 예시
- **Spring Cloud Gateway**
  - 서비스 간 통신 경로 설계
  - 게이트웨이 병목 방지를 위한 **로드밸런싱** 적용
- **Spring Boot + DB 서버 샤딩**
  - 하나의 DB 서버에 모든 요청 집중 시 병목 발생 ➔ 샤딩으로 분산
  - ✚ **샤딩**: 대량의 데이터를 여러 DB 서버에 수평적(scale-out)으로 분산 저장하는 기술

[로드밸런싱 예시]

```java
// Spring Cloud LoadBalancer 적용
@Bean
public ReactorLoadBalancer<ServiceInstance> loadBalancer(Environment environment) {
    return new RoundRobinLoadBalancer();
}
```

---

#### 🎤 면접 예상 질문
1. 네트워크 토폴로지란 무엇인가요?
   - 노드와 링크의 배치 구조를 의미하며, 스타형, 링형, 메시형 등 다양한 방식이 있습니다.
   - 설계 시 트래픽 흐름, 장애 대응, 확장성을 고려해야 합니다.
2. 병목 현상이란 무엇인가요?
   - 시스템 전체 흐름이 특정 구간의 성능 저하로 인해 느려지는 현상을 의미합니다.
   - 네트워크 링크, 서버 CPU, DB 서버, 로드밸런서 등 다양한 지점이 병목 포인트가 될 수 있습니다.
3. 실무에서 토폴로지 설계가 왜 중요할까요?
   - 서비스 장애 대응, 확장성, 트래픽 효율성에 직접적인 영향을 주기 때문입니다.
   - 클라우드 인프라나 대규모 서비스에서는 올바른 토폴로지 설계 없이 안정성과 성능을 확보할 수 없습니다.
