---
title: "[CS] 인덱스: 인덱스의 중요성"
date: 2025-05-28 11:01:18 +0900
categories: [CS, 데이터베이스]
tags: [TIL, CS, 인덱스]
---
# CS 4장 데이터베이스
## 📚 4.5 인덱스

### 4.5.1 인덱스의 필요성

#### 📘 정의
- **인덱스** (**Index**)
  - **데이터 검색 속도를 높이기 위한 데이터베이스 내의 보조 구조**

---

#### 📌 예시 상황

- 인덱스가 **없는** 경우: 백과사전을 처음부터 끝까지 훑어서 찾기
- 인덱스가 **있는** 경우: 백과사전 맨 앞 목차 페이지 확인 후 바로 이동

---

#### 🎯 사용 이유
##### ⭐️ 1. **대용량 테이블에서의 검색 최적화**
- 데이터가 수천만 건 이상인 경우, `WHERE` 조건 검색은 매우 느림
- 인덱스는 검색 범위를 **제한된 경로**로 줄여줌 ➔ **탐색 비용 감소**

```sql
SELECT * FROM user WHERE email = 'test@naver.com';
``` 

- `email` 에 인덱스 없음 ➔ 모든 row 탐색 (Full Table Scan)
- `email` 에 인덱스 있음 ➔ 특정 노드 위치만 탐색 (Index Seek)

--

##### ⭐️ 2. **정렬 / 그룹화 속도 개선**
- `ORDER BY`, `GROUP BY` 시 정렬 과정을 줄이거나 생략 가능

```sql
SELECT * FROM order ORDER BY created_at DESC;
```
- `created_at` 에 인덱스가 있다면 정렬된 상태로 바로 리턴 가능

--

##### ⭐️ 3. **JOIN 속도 향상**
- 외래 키 컬럼에 인덱스를 걸면 JOIN 시 양쪽 테이블 탐색 비용 절감

```sql
SELECT * FROM user u
JOIN orders o ON u.id = o.user_id;
```

- `user_id` 에 인덱스가 있다면 조인 성능 향상

--

##### ⭐️ 4. **무결성 제약 구현 (UNIQUE)**
- 중복 방지에 사용

```sql
CREATE UNIQUE INDEX idx_email ON user(email);
```

- 중복된 이메일을 DB 에서 자동 차단 가능

---

#### 🏢 실무 사용 예시

| 상황            | 인덱스                                  |
|---------------|--------------------------------------|
| 로그인 시 이메일 검색  | `email` 컬럼에 인덱스 필요                   |
| 게시글 목록 최신순 정렬 | `created_at DESC` 인덱스                |
| 상품 이름 검색      | `name LIKE '맥북%'` - 접두어 검색 시 인덱스 사용 가능 |


---

#### 🎤 면접 예상 질문
1. 인덱스란 무엇이고 왜 필요한가요?
   - 데이터 검색 속도를 높이기 위한 데이터베이스 내의 보조 구조로 빠른 검색, 정렬, 조인을 가능하게 하며
   - 전체 테이블을 스캔하지 않고도 원하는 값을 빠르게 찾을 수 있도록 해줍니다.
   - 특히 데이터가 많은 테이블에서 성능 차이는 수십 배 이상 날 수 있습니다.
2. 인덱스가 없으면 어떤 문제가 생기나요?
   - 모든 데이터를 처음부터 끝까지 검사해야 하므로, WHERE, ORDER BY, JOIN 등이 느려지고 전체 쿼리 성능이 하락합니다.
   - 이는 대용량 서비스에서 병목이 될 수 있습니다.
