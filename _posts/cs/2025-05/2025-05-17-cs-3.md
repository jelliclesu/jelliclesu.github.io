---
title: "[CS] HTTP: HTTP/2"
date: 2025-05-17 17:17:59 +0900
categories: [CS, 네트워크, HTTP]
tags: [TIL, CS]
---
# CS 2장 네트워크
## 📚 2.5 HTTP

### 2.5.3 HTTP/2

#### 📘 정의
- 2015년에 발표된 HTTP 프로토콜의 차세대 버전
- 성능 개선과 병렬 처리, 효율적인 네트워크 사용을 목표로 개발됨
- 현재 대부분의 브라우저, 서버가 HTTP/2 지원

--

⭐️ 주요 변화

| 항목    | HTTP/1.1     | HTTP/2               |
|-------|--------------|----------------------|
| 연결 방식 | 요청 1개씩 순차 처리 | 하나의 연결로 다중 요청/응답 처리  |
| 포맷    | 텍스트 기반 프로토콜  | 바이너리 기반 프로토콜         |
| 헤더    | 반복 전송        | 헤더 압축 (HPACK)        |
| 서버 응답 | 요청 후 응답      | 서버 푸시(Sever Push) 가능 |

--

‼️ 핵심 기능

| 기능                 | 설명                                |
|--------------------|-----------------------------------|
| **Multiplexing** (**다중화**) | **하나의 TCP 연결 안에서 여러 요청/응답을 동시에 처리**   |
| **Binary** 프레이밍        | 텍스트 대신 바이너리로 메시지를 구조화 ➔ 파싱 성능 개선  |
| **헤더 압축** (HPACK)      | 같은 헤더 반복 시 압축하여 전송 ➔ 오버헤드 감소      |
| **서버 푸시** (Sever Push) | 클라이언트가 요청하지 않아도 서버가 미리 리소스를 전송 가능 |

---

#### 📌 예시 흐름

```plaintext
[HTTP/1.1]
- 3개의 리소스를 불러오려면 3개의 연결 또는 직렬 요청 필요

[HTTP/2]
- 하나의 연결로 3개의 요청을 동시에 처리 (Multiplexing)
→ 병렬 요청 + 응답 순서 보장

- Multiplexing
[TCP 연결 1개]
 ├── stream ID: 1 → 요청 A
 ├── stream ID: 3 → 요청 B
 ├── stream ID: 5 → 요청 C
```
- 여러 요청이 동시에 전송되고, 순서에 상관없이 응답 가능


---

#### 🎯 사용 이유 / 장점
- 페이지 로딩 속도 향상 - 리소스 요청 병렬화 덕분에 렌더링 빨라짐
- 모바일 환경 최적화 - 네트워크 병목 감소, 배터리 효율 증가
- 헤더/압축/푸시 덕분에 서버 응답 크기 감소

---

#### ⚠️ 단점
- TCP 기반의 한계 - TCP 단일 연결이 끊기면 전체 요청 중단 가능성
- 중간 장비 호환성 문제 - 프록시/방화벽 등 일부 장비에서 문제 발생 가능성
- 서버 푸시 남용 시 과잉 트래픽 가능

---

#### 🏢 실무 사용 여부
- 브라우저 - 대부분 기본 지원 (Chrome, Firefox, Safari 등)
- 서버 - Nginx, Apache, Spring Boot 모두 지원
- CDN - Cloudflare, AWS CloudFront

---

#### 🎤 면접 예상 질문
1. HTTP/1.1 과 HTTP/2 의 가장 큰 차이는?
   - 하나의 TCP 연결에서 다수의 요청과 응답을 동시에 처리하는 다중화 기능이 가장 큰 차이입니다.
   - HTTP/1.1 은 요청 하나당 응답 하나를 직렬로 처리했기 때문에, 앞선 요청이 지연되면 뒷 요청도 지연되는 문제가 있었지만,
   - HTTP/2 는 이를 해결해 페이지 로딩 속도가 크게 개선되었습니다.
2. HTTP/2 는 왜 바이너리 형식을 사용하나요?
   - 텍스트 기반은 사람이 읽기엔 편하지만, 컴퓨터가 파싱하기엔 비효율적이기에
   - 바이너리 형식을 사용하면 속도, 안정성, 확장성 측면에서 유리하고, 구조화된 전송이 가능해져 성능이 향상됩니다.
3. HTTP/2 로도 해결하지 못한 문제가 있나요?
   - TCP 기반이기에 연결 하나에 여러 요청이 묶여 있어, TCP 전송 레벨에서 패킷 손실이 발생하면 전체 요청이 지연된다는 문제가 있습니다.
   - 이를 해결하기 위해 HTTP/3 는 UDP 기반과 QUIC 프로토콜로 개선되었습니다.

