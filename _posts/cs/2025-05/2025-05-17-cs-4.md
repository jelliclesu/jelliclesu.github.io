---
title: "[CS] HTTP: HTTPS (HyperText Transfer Protocol Secure)"
date: 2025-05-17 18:02:23 +0900
categories: [CS, HTTP]
tags: [TIL, CS]
---
# CS
## 📚 2.5 HTTP

### 2.5.4 HTTPS (HyperText Transfer Protocol Secure)

#### 📘 정의
- HTTP 에 TLS 를 결합한 보안 통신 방식 ➡︎ 암호화 + 인증 + 무결성 보장
- 암호화되지 않은 평문 내용으로 도청/변조 위험이 존재하는 HTTP 에 **보안**을 확장

```plaintext
[HTTP]     → TCP 위에서 동작
[HTTPS]    → TLS → TCP 위에서 동작
```
---
#### ⭐️ 주요 기능

| 기능                  | 설명                                 |
|---------------------|------------------------------------|
| 암호화 (Encryption)    | 제 3자가 요청/응답 내용을 볼 수 없게 암호화         |
| 인증 (Authentication) | 서버가 신뢰할 수 있는 기관(CA)에 의해 발급된 인증서를 통해 진짜임을 증명 |
| 무결성 (Integrity)     | 데이터가 전송 중에 위·변조되지 않았는지 검증 가능       |

✚ 인증서란?
> HTTPS 통신을 위해 서버가 발급받은 디지털 신분증

- 발급자: CA (인증기관 (ex: Let's Encrypt, DigiCert 등))
- 포함 내용: 도메인 이름, 공개키, 유효 기간, 발급자 서명
- 브라우저 역할: 이 인증서의 서명이 신뢰할 수 있는 CA 인지 확인

---

#### 📌 TLS 통신 과정 요약 (핸드셰이크)
```plaintext
[1] Client Hello
- 클라이언트가 서버에 연결 시도
- 자신이 지원하는 TLS 버전, 암호화 방식, 무작위 숫자 등 전송

[2] Server Hello + Certificate
- 서버가 협상된 암호화 방식 + 인증서(공개키 포함)를 클라이언트에 전달

[3] 인증서 검증
- 클라이언트가 CA 서명을 통해 서버 인증서의 신뢰성 확인
- 위조된 인증서면 경고 발생

[4] 키 교환
- 클라이언트가 세션 키를 생성하고, 서버의 공개키로 암호화하여 전송

[5] 세션 키 공유 완료
- 이제 양측은 동일한 세션 키 보유 → 대칭키 암호화 가능

[6] “Finished” 메시지
- 양쪽 모두 준비 완료 → 실제 HTTP 데이터 교환 시작
```
- 위 과정은 사용자가 웹페이지를 클릭했을 때 자동으로 진행됨!

---

#### 🎯 장점
- 개인정보 보호 - 로그인, 결제 정보 도청 불가
- 사용자 신뢰도 증가 - 자물쇠 아이콘, "보안 연결" 표시
- SEO 가산점 - Google 검색 등에서 HTTPS 사용 사이트 우대
- 브라우저 정책 - Chrome/Safari 등은 HTTP 사이트에 "주의 요함" 경고

---

#### ⚠️ 단점
- 초기 통신 느림 - TLS 핸드셰이크 과정으로 초기 연결 지연 발생
- 인증서 관리 필요 - 유효 기간, 자동 갱신 설정 필요
- 중간자(MITM) 공격 위험 - 설정 미흡 시 잘못된 인증서를 통한 공격 가능
  - ➡︎ **HSTS** (HTTP Strict Transport Security) 설정 
    - 무조건 HTTPS 로 접속하라고 명령하는 보안 정책
    - 사용자가 HTTP 입력해도 자동으로 HTTPS 전환되어 중간자가 HTTP 연결 유도하는 걸 차단

---

#### 🏢 실무 사용 여부
- Spring Boot HTTPS 설정 - application.properties 에 인증서 설정 (key-store 등)
- 프론트엔드 서버 배포 - Nginx + Let's Encrypt 인증서 연동
- 도메인 인증 자동화 - Certbot, AWS ACM, Cloudflare TLS 등 활용

---

#### 🎤 면접 예상 질문
1. HTTP 와 HTTPS 의 가장 큰 차이점은?
   - HTTP 는 데이터가 평문으로 전송되어 도청, 변조의 위험이 있지만,
   - HTTPS 는 TLS 계층을 통해 모든 요청과 응답이 암호화되어 보안성이 크게 향상됩니다.
   - 또한, HTTPS 는 서버의 신원을 인증서로 검증할 수 있어서 피싱 사이트 방지에도 효과적입니다.
2. HTTPS 는 왜 꼭 필요한가요?
   - 현대 웹 환경에서는 로그인, 결제, 개인정보 입력이 필수이기 때문에 모든 웹 서비스는 HTTPS 를 기본으로 사용해야 합니다.
   - 특히 브라우저들이 HTTP 접속을 "주의 요함"으로 경고하기 때문에 사용자 신뢰와 서비스 품질을 위해 HTTPS 는 사실상 필수입니다.
3. HTTPS 통신에서도 중간자 공격이 가능한가요?
   - 원칙적으로 어렵지만, 사용자가 가짜 인증서를 수락하거나 공용 와이파이에서 잘못된 DNS 응답을 받는 경우 중간자 공격 가능성이 있습니다.
   - 이를 막기 위해서는 인증서의 유효성 검증과 HSTS 설정이 중요합니다.
