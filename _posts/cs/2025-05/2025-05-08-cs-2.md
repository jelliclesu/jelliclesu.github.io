---
title: "[CS] 네트워크 기기: 애플리케이션 계층을 처리하는 기기"
date: 2025-05-08 15:46:25 +0900
categories: [CS, 네트워크, 네트워크 기기]
tags: [TIL, CS]
---
# CS 2장 네트워크
## 📚 2.3 네트워크 기기

### 2.3.2 애플리케이션 계층을 처리하는 기기

#### 📘 정의
- 단순한 네트워크 연결이 아니라 HTTP, DNS, SSL/TLS 같은 고수준 프로토콜까지 해석하여
- 요청의 내용에 따라 동작을 제어하거나 응답을 변경할 수 있는 장비

▫️핵심 특징
- 계층: TCP/IP 응용 계층 (OSI 7계층)
- HTTP 헤더, URI, 쿠키, 요청 본문 등까지 해석 가능
- 로드 밸런싱, 캐시, 필터링, 보안 정책 적용 등 고급 트래픽 제어

---

#### ⭐️ 대표 장비 예시

| 장비            | 설명                                                       |
|---------------|----------------------------------------------------------|
| L7 스위치        | 애플리케이션 계층 기반 로드 밸런싱 (요청 경로에 따라 분기)                       |
| 프록시 서버        | 클라이언트 대신 요청 전달, 응답 캐싱 (클라이언트 ➔ 프록시 ➔ 서버)                 |
| API Gateway   | 마이크로서비스 환경에서 요청을 라우팅하고 보안/인증 처리 (클라이언트 ➔ 게이트웨이 ➔ 내부 서비스) |
| WAF (웹 방화벽)   | SQL 인젝션, XSS 같은 웹 공격 탐지/차단                               |
| Reverse Proxy | 클라이언트를 대신해 서버 요청 처리 (Nginx, Apache 등)                    |


---

#### 📌 예시 상황
- `/users` 요청은 사용자 서버, `/orders` 는 주문 서버로 - **L7 로드 밸런싱**
- 정적 리소스를 캐싱하여 응답 속도 향상 - **프록시 서버**
- 유효하지 않은 요청 필터링 (ex: 헤더 누락) - **API Gateway 에서 요청 필터**
- JWT 검증 ➔ 마이크로서비스로 요청 전달 - **API Gateway 에서 인증 처리**

---

#### 🎯 사용 이유 / 장점
- **경로 기반 라우팅**: 요청 URI, 쿠키, 쿼리 파라미터 등으로 목적지 결정
- **부하 분산**: 요청 양을 서버 여러 대로 효율 분산
- **보안 강화**: 악성 요청 차단, 인증 처리 등 사전 필터 가능
- **캐시 처리**: 정적 응답은 재전송 없이 빠르게 반환 가능
- **트래픽 분석**: 요청 패턴, 실패율 등을 수집하고 가시화 가능

---

#### ⚠️ 단점
- **처리 복잡성이 높음**: 고수준 로직이 많아지고, 설정 실수 시 서비스 영향이 큼
- **병목 가능성**: 모든 요청이 이 장비를 통과하기 때문에 성능 중요
- **TLS 종료**: HTTPS 트래픽 해제 및 재암호화 과정에서 부하 발생

---

#### 🏢 실무 사용 여부
✔️ 거의 모든 실무 시스템에서 사용

- MSA 아키텍처 - Spring Cloud Gateway, Nginx, Envoy, Kong
- 보안 정책 적용 - WAF, 인증 프록시
- 로드 밸런싱 - AWS ALB, GCP L7 Load Balancer
- 클라우드 서비스 - API Gateway, CloudFront (CDN + 프록시)

---

#### 🎤 면접 예상 질문
1. 애플리케이션 계층을 처리하는 기기의 대표 예시는?
   - 대표적으로는 L7 로드 밸런서, API Gateway, 프록시 서버, WAF 등이 있습니다.
   - 이들은 HTTP 요청의 URI, 헤더, 쿠키 등의 내용을 해석해서 트래픽을 라우팅하거나, 보안 필터링, 인증/인가 처리, 캐싱 등을 수행합니다.
2. API Gateway 는 왜 애플리케이션 계층에 해당하나요?
   - API Gateway 는 요청 본문이나 JWT 토큰, 헤더 등을 해석해서 라우팅, 인증, 로깅, 속도 제한 같은 고수준 처리를 수행합니다.
   - 이는 응용 계층에 해당하며, 단순한 IP 주소 기반 라우딩 이상의 기능을 갖고 있습니다.
3. 프록시와 게이트웨이의 차이는 무엇인가요?
   - 프록시는 클라이언트를 대신해 요청을 보내는 구조이고,
   - 게이트웨이는 서버 입장에서 들어온 요청을 받아서 내부로 라우팅합니다.
   - 둘 다 애플리케이션 계층을 처리합니다.
