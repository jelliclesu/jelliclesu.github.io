---
title: "[CS] IP 주소: 홉바이홉 통신 (Hop-by-Hop Communication)"
date: 2025-05-15 14:11:20 +0900
categories: [CS, IP 주소]
tags: [TIL, CS]
---
# CS
## 📚 2.4 IP 주소

### 2.4.2 홉바이홉 통신 (Hop-by-Hop Communication)

#### 📘 정의
- IP 패킷이 출발지에서 목적지까지 **한 번에 가지 않고, 중간에 존재하는 라우터들을 하나씩 거치며 전달**되는 방식
- **홉 (Hop)**: 한 번 거치는 장비(라우터)
- 네트워크는 "_내가 목적지를 모르면, 일단 다음 홉에 넘긴다_"는 구조로 설계됨

⭐️ **TTL (Time To Live)**
- 패킷이 지나갈 수 있는 최대 홉 수를 제한하는 값
- 각 홉을 지날 때마다 TTL 은 1씩 감소
- TTL 이 0이 되면 해당 홉에서 패킷을 폐기
- ➡︎ 무한 루프 방지, 네트워크 자원 보호

---

#### 📌 예시 상황
```plaintext
[Client] -> [라우터 1] -> [라우터 2] -> [라우터 3] -> [Sever]

=> 총 3개의 홉을 거쳐 도달
```
- 목직지 IP 를 확인하고
- 자신의 라우팅 테이블을 참조해서
- 다음 목적지(홉)로 패킷 전달

---

#### 🎯 사용 이유 / 장점
- **확장성 높음** - 전체 네트워크를 한 번에 알 필요 없이 분산된 경로 선택 가능
- **라우팅 유연성** - 네트워크 구조가 중간에 바뀌어도 중간 홉만 바꾸면 됨
- **장애 회복성** - 특정 홉이 문제 생겨도 다른 경로로 재전송 가능

---

#### ⚠️ 단점
- **지연 시간 증가** - 홉 수가 많을수록 총 응답 시간 증가 가능
- **패킷 손실 가능성 높음** - 중간 홉 중 하나라도 오류가 발생하면 전달 실패 가능
- **보안 위협** - 중간 경로를 통해 패킷 감청이나 변조 시도 가능

---

#### 💻 실무 예시(macOS/Linux)
```bash
traceroute www.google.com
```

```plaintext
traceroute to www.google.com (142.250.206.4), 64 hops max, 52 byte packets
 1  192.168.0.1 (192.168.0.1)  1.123 ms  0.973 ms  0.889 ms
 2  10.78.0.1 (10.78.0.1)      2.489 ms  2.374 ms  2.518 ms
 3  211.123.45.1 (211.123.45.1) 5.434 ms  5.291 ms  5.355 ms
 4  142.250.206.4 (google.com) 9.812 ms  9.677 ms  9.725 ms
```

- 패킷이 목적지에 도달하기까지 거치는 라우터(Hop) 출력
- 각 홉의 IP 주소와 응답 시간 확인 가능

---

#### 🎤 면접 예상 질문
1. 홉바이홉 통신이란 무엇인가요?
   - IP 패킷이 출발지에서 목적지로 한 번에 도달하지 않고, 중간에 여러 홉을 거쳐 전달되는 구조를 의미합니다.
   - 각 홉은 목적지 IP 를 기준으로 라우팅 테이블을 참조해 다음 홉을 결정하며 전달하게 됩니다.
2. 홉바이홉 통신은 왜 사용하나요?
   - 경로를 작은 단위로 분할하여 처리하는 방식이 확장성과 안정성에 유리합니다.
   - 중간 홉 중 일부가 장애가 나더라도 대체 경로로 자동 전환되는 유연성도 제공됩니다.
3. TTL 의 역할은 무엇인가요?
   - 패킷이 지나갈 수 있는 최대 홉 수를 제한하는 값으로,
   - TTL 이 0 이 되면 패킷은 폐기되고, 이를 통해 라우팅 루프나 과도한 홉 반복으로 인한 네트워크 부하를 방지할 수 있습니다.
