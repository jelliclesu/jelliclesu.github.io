---
title: "[CS] íŠ¸ëžœìž­ì…˜ê³¼ ë¬´ê²°ì„±: ë¬´ê²°ì„± (Integrity)"
date: 2025-05-27 12:40:30 +0900
categories: [CS, ë°ì´í„°ë² ì´ìŠ¤]
tags: [TIL, CS, íŠ¸ëžœìž­ì…˜ê³¼ ë¬´ê²°ì„±]
---
# CS 4ìž¥ ë°ì´í„°ë² ì´ìŠ¤
## ðŸ“š 4.3 íŠ¸ëžœìž­ì…˜ê³¼ ë¬´ê²°ì„±

### 4.3.2 ë¬´ê²°ì„± (Integrity)

#### ðŸ“˜ ì •ì˜
- ë°ì´í„°ë² ì´ìŠ¤ ì•ˆì˜ ë°ì´í„°ê°€ **ì •í™•**í•˜ê³  **ì¼ê´€**ë˜ë©° **ìœ íš¨**í•˜ë„ë¡ ë³´ìž¥í•˜ëŠ” **ì œì•½ì¡°ê±´**ì˜ ì´ì œ

---

#### ðŸ“Œ ì¢…ë¥˜
##### â­ï¸ **ê°œì²´ ë¬´ê²°ì„±**
- ê¸°ë³¸ í‚¤ëŠ” NULL ë¶ˆê°€ + ìœ ì¼í•´ì•¼ í•¨

```sql
CREATE TABLE users (
  id INT PRIMARY KEY,  -- NOT NULL + UNIQUE
  name VARCHAR(50)
);
```

--

##### â­ï¸ **ë„ë©”ì¸ ë¬´ê²°ì„±**
- ì†ì„±ì€ ì§€ì •ëœ ë°ì´í„° í˜•ì‹, ë²”ìœ„ë§Œ í—ˆìš©

```sql
CREATE TABLE product (
  price INT CHECK (price >= 0),  -- ìŒìˆ˜ ë¶ˆê°€
category ENUM('ELECTRONICS', 'BOOK', 'FOOD')
);
```

--

##### â­ï¸ **ì°¸ì¡° ë¬´ê²°ì„±**
- ì™¸ëž˜ í‚¤ëŠ” ë°˜ë“œì‹œ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ì¡´ìž¬í•˜ëŠ” ê°’ë§Œ ì°¸ì¡° ê°€ëŠ¥

```sql
CREATE TABLE orders (
                      id INT PRIMARY KEY,
                      user_id INT,
                      FOREIGN KEY (user_id) REFERENCES users(id)
);
```
- `user_id` ê°€ ì—†ëŠ” ì‚¬ìš©ìžëŠ” ì‚½ìž… ë¶ˆê°€

--

##### â­ï¸ **ì‚¬ìš©ìž ì •ì˜ ë¬´ê²°ì„±**
- ì‹¤ì œ ì„œë¹„ìŠ¤ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ë°˜ì˜

```sql
CHECK (salary >= 0 AND salary < 10000000)
CHECK (discount <= price)
```

---

#### âš ï¸ ë¬´ê²°ì„± ìœ„ë°˜ ì‹œ ìƒê¸°ëŠ” ë¬¸ì œ
- **ê°œì²´ ë¬´ê²°ì„± ìœ„ë°˜**: ê¸°ë³¸ í‚¤ NULL ê°’ìœ¼ë¡œ **ë ˆì½”ë“œë¥¼ ìœ ì¼í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ì—†ìŒ**
- **ë„ë©”ì¸ ë¬´ê²°ì„± ìœ„ë°˜**: ìƒë…„ ì›”ì¼ì— ë¬¸ìž ìž…ë ¥ ë“± **ìž˜ëª»ëœ ë°ì´í„° í˜•ì‹ ìž…ë ¥** ê°€ëŠ¥ì„±
- **ì°¸ì¡° ë¬´ê²°ì„± ìœ„ë°˜**: ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ìžì—ê²Œ ì£¼ë¬¸ì´ ìƒì„±ë˜ëŠ” ë“± **ì°¸ì¡° ì˜¤ë¥˜ ë°œìƒ**
- **ì‚¬ìš©ìž ì •ì˜ ë¬´ê²°ì„± ìœ„ë°˜**: ìž¬ê³  ìˆ˜ëŸ‰ì´ ìŒìˆ˜ê°€ ë˜ëŠ” ë“± **ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìœ„ë°˜**

---

#### ðŸ’» Java/Spring ì˜ˆì‹œ

```java
@Entity
public class User {

    @Id  // ê°œì²´ ë¬´ê²°ì„±
    private Long id;

    @Column(nullable = false)  // ë„ë©”ì¸ ë¬´ê²°ì„±
    private String name;

    @Column(unique = true)     // ë„ë©”ì¸ ë¬´ê²°ì„±
    private String email;

    @ManyToOne
    @JoinColumn(name = "team_id", foreignKey = @ForeignKey(name = "fk_team"))  // ì°¸ì¡° ë¬´ê²°ì„±
    private Team team;
}

```

---

#### ðŸŽ¤ ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸
1. ë¬´ê²°ì„±ì´ëž€ ë¬´ì—‡ì¸ê°€ìš”?
   - ë°ì´í„°ì˜ ì¼ê´€ì„±ê³¼ ì •í•©ì„±ì„ ë³´ìž¥í•˜ê¸° ìœ„í•œ ì œì•½ì¡°ê±´ìž…ë‹ˆë‹¤.
   - ê°œì²´ ë¬´ê²°ì„±, ë„ë©”ì¸ ë¬´ê²°ì„±, ì°¸ì¡° ë¬´ê²°ì„±, ì‚¬ìš©ìž ì •ì˜ ë¬´ê²°ì„± ë“±ì´ ìžˆìŠµë‹ˆë‹¤.
2. ì™¸ëž˜ í‚¤ê°€ ë¬´ê²°ì„±ì„ ë³´ìž¥í•˜ëŠ” ë°©ì‹ì€?
   - ì™¸ëž˜ í‚¤ëŠ” ì°¸ì¡° ëŒ€ìƒì´ ì¡´ìž¬í•˜ì§€ ì•Šìœ¼ë©´ ì‚½ìž…/ìˆ˜ì •ì´ ì°¨ë‹¨ë˜ë©°,
   - ì‚­ì œ ì‹œì—ë„ ON DELETE ì˜µì…˜ìœ¼ë¡œ ì—°ê´€ í–‰ ì²˜ë¦¬ë¥¼ ê°•ì œí•  ìˆ˜ ìžˆì–´
   - í…Œì´ë¸” ê°„ ê´€ê³„ì˜ ì •í•©ì„±ì„ ìžë™ìœ¼ë¡œ ìœ ì§€í•´ì¤ë‹ˆë‹¤.
3. ë¬´ê²°ì„±ê³¼ íŠ¸ëžœìž­ì…˜ì€ ì–´ë–»ê²Œ ê´€ë ¨ë˜ì–´ ìžˆë‚˜ìš”?
   - ë¬´ê²°ì„±ì€ ë°ì´í„°ì˜ ìœ íš¨ì„±ì„ ë³´ìž¥í•˜ê³ ,
   - íŠ¸ëžœìž­ì…˜ì€ ìž‘ì—… ë‹¨ìœ„ì˜ ì›ìžì„±ì„ ë³´ìž¥í•˜ì—¬
   - íŠ¸ëžœìž­ì…˜ ë‚´ì—ì„œ ë¬´ê²°ì„±ì„ ì–´ê¸°ëŠ” ìž‘ì—…ì´ ë°œìƒí•˜ë©´ ì „ì²´ ë¡¤ë°±ë˜ì–´ ì •í•©ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
