---
title: "[CS] 메모리: 메모리 계층"
date: 2025-05-19 11:45:39 +0900
categories: [CS, 운영체제]
tags: [TIL, CS, 메모리]
---
# CS 3장 운영체제
## 📚 3.2 메모리

### 3.2.1 메모리 계층

#### 📘 정의
- 컴퓨터 시스템에서 속도와 용량, 가격의 균형을 맞추기 위해 여러 종류의 메모리를 계층적으로 구성한 구조

---

#### 📌 메모리 계층 구조
- 1 계층: **레지스터 (Register)** - CPU 내부, 가장 빠름, 개수 적음 (명령어 저장)
- 2 계층: **캐시 메모리 (L1, L2, L3)** - CPU 와 RAM 사이, 자주 쓰는 데이터 임시 저장
- 3 계층: **주기억장치 (Main Memory / RAM)** - 실행 중인 프로그램, 중간 속도, 휘발성
- 4 계층: **보조기억장치 (SSD, HDD)** - 영구 저장, 느림, 비휘발성, 대용량
- 5 계층: **외부저장/백업 (테이프, 클라우드)** - 아카이빙, 백업, 매우 느림, 매우 저렴

➡︎ 가까울수록(계층 숫자가 작을수록) 빠르고 비싸고 용량이 작음   
➡︎ 멀수록(계층 숫자가 클수록) 느리고 싸고 용량이 큼

--   

✚ **캐시 메모리**
- CPU <-> RAM 간 속도 차이가 너무 커서 **중간 완충재** 필요
- 최근에 접근한 데이터를 저장해두고 **다시 빠르게 접근**

| 계층        | 위치                | 속도        | 용량            | 특징                             |
| --------- | ----------------- | --------- | ------------- | ------------------------------ |
| **L1 캐시** | CPU 코어 내부         | 가장 빠름     | 작음 (32~128KB) | 명령어/데이터 분리됨 (I-cache, D-cache) |
| **L2 캐시** | CPU 코어 내부 (혹은 외부) | 빠름        | 중간 (256KB~1MB) | L1보다 큼, 조금 느림                  |
| **L3 캐시** | 여러 코어 공유          | 느림(상대적으로) | 큼 (2~32MB)    | 멀티코어 간 데이터 공유 용도               |

- 데이터 접근 흐름 예시
  1. CPU 가 어떤 데이터 요청
  2. L1 에서 찾음 ➔ 히트 ➔ 바로 사용
  3. 없다면 ➔ L2 확인 ➔ 없다면 ➔ L3 확인
  4. 그래도 없다면 ➔ RAM 접근 ➡︎ **캐시 미스**

- **히트율** (Cache Hit Rate)
  - 얼마나 자주 캐시에서 데이터를 찾았는지 비율 
  - 히트율이 높을수록 → CPU 성능 ↑, RAM 접근 ↓


---

#### 🎯 사용 이유 / 장점
- **비용 효율** - 레지스터/캐시처럼 빠른 메모리는 비싸서 소량만 사용
- **속도 최적화** - 자주 쓰는 데이터를 상위 계층에 배치하여 속도 높임
- **자원 활용 극대화** - 전체 메모리를 균형 있게 운용 가능

---

#### 💻 운영체제의 관점

| 계층   | OS 관여 여부              |
|------|-----------------------|
| 레지스터 | ❌ : CPU 내부 제어로 관여 안함  |
| 캐시   | ❌ : 하드웨어 자동 제어로 관여 안함 |
| RAM  | ✔️ : 운영체제가 직접 메모리 관리  |
| 디스크  | ✔️ : 운영체제가 파일 시스템으로 관리 |

➡︎ 운영체제는 **RAM** 부터 직접 관리!

---

#### 🎤 면접 예상 질문
1. 메모리 계층 구조란 무엇인가요?
   - 속도와 응답, 비용의 균형을 맞추기 위해 다양한 종류의 메모리를 가까운 것부터 빠르게, 멀수록 느리게 계층화한 구조입니다.
   - 가장 빠른 레지스터부터 가장 느린 하드디스크/클라우드까지 단계적으로 구성됩니다.
2. 캐시는 왜 필요한가요?
   - CPU 와 메인 메모리 간 속도 차이가 커서, 자주 접근하는 데이터를 캐시에 저장해 메인 메모리 접근 횟수를 줄이고 전체 성능을 높이기 위해 필요합니다.
   - 하드웨어가 자동으로 관리하며, L1, L2, L3 계층이 있습니다.
3. 운영체제가 관리하는 메모리는 어디부터인가요?
   - 메인 메모리부터 관리합니다. 캐시나 레지스터는 하드웨어 제어이고, 메인 메모리는 운영체제가 프로세스별로 할당이나 횟수, 가상 메모리 등의 작업을 수행합니다.
