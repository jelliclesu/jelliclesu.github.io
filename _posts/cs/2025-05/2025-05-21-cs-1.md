---
title: "[CS] 프로세스와 스레드: 프로세스의 메모리 구조"
date: 2025-05-21 11:26:11 +0900
categories: [CS, 운영체제]
tags: [TIL, CS, 프로세스와 스레드]
---
# CS 3장 운영체제
## 📚 3.3 프로세스와 스레드

### 3.3.3 프로세스의 메모리 구조

#### 📘 정의
- 운영체제는 실행 중인 프로세스를 위해 독립된 메모리 공간을 할당해 줌
- 이 공간은 여러 영역으로 나뉘며, 각각의 용도에 따라 분리되어 사용됨

---

#### 📌 메모리 구조

```plaintext
High Address
┌────────────┐
│   Stack    │ ← 지역 변수, 함수 호출 스택 프레임
├────────────┤
│    Heap    │ ← 동적 할당 (new, malloc 등)
├────────────┤
│   Data     │ ← 전역 변수, static 변수
├────────────┤
│   Text     │ ← 코드 영역 (기계어)
└────────────┘
Low Address
```
- 메모리 상에서 위에서 아래 방향으로 사용됨
   
   
1. **Text** 영역
   - 프로그램의 실행 코드 (기계어) 저장
   - 읽기 전용으로 여러 프로세스 간 공유 가능 (침범/수정 불가)
     - ex: 여러 탭에서 동시에 크롬 실행 ➔ 동일한 크롬 코드(text)는 공유됨
2. **Data** 영역
   - 초기값이 있는 전역 변수, static 변수 저장
     - ex: `int x = 10;`
   - 종료 시까지 유지
3. **Heap** 영역
   - 런타임 중 동적으로 할당되는 메모리 공간
     - ex: `new`, `malloc`
   - 프로그래머가 직접 관리 (C/C++ : 해제 안 하면 메모리 누수)
4. **Stack** 영역
   - 함수 호출 시 생성되는 지역 변수, 매개변수, 반환 주소 저장
     - 지역 변수: 함수 안에서 선언된 변수
     - 매개 변수: 함수에 전달된 인자
     - 리턴 주소: 함수가 끝난 뒤 들어갈 코드 위치
   - LIFO 구조: 나중에 호출된 함수가 먼저 종료되고, 가장 먼저 호출된 함수가 가장 마지막에 종료
     - ex: main() 안에서 hello() 호출 ➔ hello() 종료 후 main() 의 다음 줄로 복귀
   - 스레드마다 독립된 스택 존재

---

#### 🎯 운영체제의 역할

| 영역    | 관리 내용                     |
|-------|---------------------------|
| 전체 구조 | 프로세스 생성 시 각 영역 크기 설정      |
| Stack | 함수 호출 시 자동 증가/감소          |
| Heap  | 시스템 호출을 통해 메모리 확보         |
| 보호    | 각 영역은 다른 프로세스나 영역에서 침범 불가 |

---

#### 🎤 면접 예상 질문
1. 프로세스는 메모리에서 어떻게 구성되나요?
   - 프로세스의 메모리 구조는 Text, Data, Heap, Stack 네 구역으로 구성됩니다.
   - 각각은 코드, 전역 변수, 동적 할당, 함수 호출 스택을 저장하며, 운영체제는 이를 격리하여 안정성과 효율성을 보장합니다.
2. Stack 과 Heap 의 차이는 무엇인가요?
   - Stack 은 함수 호출 시 자동으로 할당되는 임시 메모리이고,
   - Heap 은 프로그래머가 명시적으로 동적 할당하는 공간입니다.
   - Stack 은 빠르지만 용량이 작고, Heap 은 유연하지만 관리가 어렵고 누수 위험이 있습니다.
