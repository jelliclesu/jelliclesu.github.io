---
title: "[JAVA] 프로그래머스 Level 2 - 주식가격"
date: 2025-04-23 10:31:35 +0900
categories: [Algorithm, 프로그래머스]
tags: [TIL, Algorithm]
---

# 코딩테스트 문제 풀이

## 📘 문제 제목
[프로그래머스 - 주식가격](https://school.programmers.co.kr/learn/courses/30/lessons/42584)

### 🧠 문제 이해
![img.png](/assets/img/algorithm/2025-04-23-1.png)
- 가격이 떨어지지 않는 주식 기간은 몇 초인지
- Stack 이용

![img.png](/assets/img/algorithm/2025-04-23-2.png)

---

### ✏️ 슈도 코드

```plaintext
prices 돌면서:
  stack.push(i)
  prices[pre] > prices[i] ? pre - i

!stack.isEmpty() ?
  n - 1 - i
```

---

### 🔍 참고한 부분

```plaintext
1. 가격 떨어진 경우 먼저 계산
2. 끝까지 떨어지지 않은 값 계산

나눠서 계산해야 함!
```

---

### ✅ 전체 코드
```java
import java.util.*;

class Solution {
  public int[] solution(int[] prices) {
    int n = prices.length;
    int[] answer = new int[n];  // 결과 배열
    Stack<Integer> stack = new Stack<>();  // 인덱스를 저장하는 스택

    // 배열을 순회하면서 가격이 떨어지는 순간을 확인
    for (int i = 0; i < n; i++) {
      // 현재 가격이 이전 가격보다 낮다면 스택에서 pop하면서 기간 계산
      while (!stack.isEmpty() && prices[i] < prices[stack.peek()]) {
        int index = stack.pop();
        answer[index] = i - index;  // 가격이 떨어진 기간 저장
      }
      stack.push(i);  // 현재 인덱스를 스택에 저장
    }

    // 끝까지 가격이 떨어지지 않은 경우 처리
    while (!stack.isEmpty()) {
      int index = stack.pop();
      answer[index] = n - index - 1;
    }

    return answer;
  }
}

```
- Stack 에 index 를 저장하고, index 이용해서 값 계산하기!
