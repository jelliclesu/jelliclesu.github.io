---
title: "[JAVA] 백준 Silver III - queuestack(24511)"
date: 2025-06-12 09:45:55 +0900
categories: [Algorithm, 백준]
tags: [TIL, Algorithm]
---
# 코딩테스트 문제 풀이

## 📘 문제 제목
[백준 - queuestack](https://www.acmicpc.net/problem/24511)

### 🧠 문제 이해
![img.png](/assets/img/algorithm/2025-06-12-1.png)
- Ai = 0 이면 큐, 1 이면 스택
- 입력받은 x0 을 각 자료구조(큐, 스택) 연산에 맞춰 queuestack 연산 진행 후 return 값

---

### ✏️ 슈도 코드

```plaintext
1. 자료구조 생성
  0 -> Queue
  1 -> Stack
2. 원소 입력
  0 -> add()
  1 -> push()
3. 원소 삽입
  0 이면? add() -> poll()
  1 이면? push() -> pop()
  
-> Deque 로 스택 큐 동시 구현!
```

---

### 1️⃣ 첫 코드

```java
import java.io.*;
import java.util.*;

public class Main {
  public static void main(String[] args) throws IOException {

    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    int N = Integer.parseInt(br.readLine());

    StringTokenizer st = new StringTokenizer(br.readLine());
    List<Deque<Integer>> list = new ArrayList<>();
    int[] arr = new int[N];
    for (int i = 0; i < N; i++) {
      arr[i] = Integer.parseInt(st.nextToken());
      list.add(new ArrayDeque<>());
    }
    st = new StringTokenizer(br.readLine());
    for (int i = 0; i < N; i++) {
      list.get(i).add(Integer.parseInt(st.nextToken()));
    }

    int M = Integer.parseInt(br.readLine());
    st = new StringTokenizer(br.readLine());
    int[] inputs = new int[M];
    for (int i = 0; i < M; i++) {
      inputs[i] = Integer.parseInt(st.nextToken());
    }

    StringBuilder sb = new StringBuilder();

    for (int i = 0; i < M; i++) {
      int x = inputs[i];
      for (int j = 0; j < N; j++) {
        list.get(j).add(x);
        if (arr[j] == 0) {
          x = list.get(j).pollFirst();
        } else {
          x = list.get(j).pollLast();
        }
      }
      sb.append(x).append(" ");
    }
    System.out.println(sb.toString());
  }
}
```
- 이중 포문에서 N * M (100,000 * 100,000) 으로 인해 시간 초과 발생

---

### 🔍 생각해보기

- `stack` 연산은 필요 없음 `push` -> `pop` 이면 결국 같은 숫자!
- `queue` 연산만 처리하면 됨!

< 참고 >
- 결국 여러 개의 큐가 연결되어 있는 구조로 제일 앞 큐로 들어가서 제일 뒷 큐의 값이 나오게 됨!

---

### ✅ 코드
```java
import java.io.*;
import java.util.*;

public class Main {
  public static void main(String[] args) throws IOException {
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    int N = Integer.parseInt(br.readLine());

    int[] types = Arrays.stream(br.readLine().split(" "))
      .mapToInt(Integer::parseInt)
      .toArray();

    int[] values = Arrays.stream(br.readLine().split(" "))
      .mapToInt(Integer::parseInt)
      .toArray();

    Deque<Integer> deque = new ArrayDeque<>();
    for (int i = 0; i < N; i++) {
      if (types[i] == 0) {
        deque.addLast(values[i]);
      }
    }

    int M = Integer.parseInt(br.readLine());
    StringTokenizer st = new StringTokenizer(br.readLine());
    StringBuilder sb = new StringBuilder();

    for (int i = 0; i < M; i++) {
      deque.addFirst(Integer.parseInt(st.nextToken()));
      sb.append(deque.pollLast()).append(" ");
    }

    System.out.println(sb.toString());
  }
}
```
